<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>跟随鼠标的一串Div</title>
	<style type="text/css">
		div{width: 20px;height: 20px;background: #999;position:absolute;}
	</style>
	<script>
	window.onload=function(){
		
		document.onmousemove=function(ev){

			var aDiv=document.getElementsByTagName('div');
			var oEvent=ev||event;

			var pos=getPos(oEvent);

			for(var i=aDiv.length-1;i>0;i--){
				//倒数循环除第一个以外的每个div

				aDiv[i].style.left=aDiv[i-1].offsetLeft+'px';
				aDiv[i].style.top=aDiv[i-1].offsetTop+'px';
				//每个div位置都等于前一个
			};

			aDiv[0].style.left=pos.x+'px';
			aDiv[0].style.top=pos.y+'px';
		};
	};

	//封装获取鼠标绝对位置的函数
	function getPos(ev)
	{
		//获取当前滚动条位置
		var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
		var scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft;

		return{x:ev.clientX+scrollLeft, y:ev.clientY+scrollTop};
		// 返回鼠标绝对位置的X和Y
	}
	</script>
</head>
<body>
	<div></div>
	<div></div>
	<div></div>
	<div></div>
	<div></div>
	<div></div>
	<div></div>
	<div></div>
	<div></div>
	<div></div>
	<div></div>
</body>
</html>