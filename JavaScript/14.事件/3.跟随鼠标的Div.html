<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>跟随鼠标的Div</title>
	<style type="text/css">
		div{width: 100px;height: 100px;background: #999;position:absolute;}
	</style>
	<script>
	window.onload=function(){
		
		document.onmousemove=function(ev){
			//鼠标移动一个像素时产生一个onmousemove事件

			var oEvent=ev||event;
			var oDiv=document.getElementById('div1');

			var pos=getPos(oEvent);

			oDiv.style.left=pos.x+'px';
			oDiv.style.top=pos.y+'px';
			//top位置为可视区鼠标的Y+滚动条位置
		};			
	};

	//封装获取鼠标绝对位置的函数
	function getPos(ev)
	{
		//获取当前滚动条位置
		var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
		var scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft;

		return{x:ev.clientX+scrollLeft, y:ev.clientY+scrollTop};
		// 返回鼠标绝对位置的X和Y
	}
	</script>
</head>
<body style="height: 2000px">
	<div id="div1"></div>
</body>
</html>